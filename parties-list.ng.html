<div class="container" ng-controller="PartiesListCtrl">

<div class="party-maker">
  <form class="form--parties">
    <div class="form__field">
      <label>Party Name:</label>
      <input ng-model="newParty.name">
    </div>
    <div class="form__field">
      <label>Description:</label>
      <input ng-model="newParty.description">
    </div>
    <div class="form__actions">
      <!-- pusing into the collection. It works, but it's not great for performance  -->
        <!-- <button class="btn btn--submit" ng-click="parties.push(newParty); newParty='';">Add</button> -->
      <!-- Instead let's use $meteor.collection's save helper function -->
        <button class="btn btn--submit" ng-click="parties.save(newParty); newParty='';">Add</button>
    </div>
  </form>
</div>

<div class="party-info">
  <p class="party-total">
    Total number of parties:
    <span class="party-total__count">{{parties.length}}</span>
  </p>
  <div class="menu">
    <a class="remove-all" ng-click="removeAll()">remove all</a>
  </div>

  <ul class="list--parties">
    <li class="party" ng-repeat="party in parties">
      <p class="party__name">
        <a href="/parties/{{party._id}}">{{party.name}}</a>
      </p>
      <p class="party__desc">{{party.description}}</p>
      <button class="btn btn--close" ng-click="remove(party)">&times;</button>
    </li>
  </ul>
</div>

</div>
